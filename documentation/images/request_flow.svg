<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 850" style="font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;">
  <defs>
    <filter id="dropShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
      <feOffset dx="2" dy="4" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.3"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4a90e2" />
    </marker>
  </defs>

  <rect width="600" height="850" fill="#f4f5f7" rx="10"/>

  <text x="300" y="40" text-anchor="middle" font-size="24" font-weight="bold" fill="#172b4d">Architecture d'Exécution d'une Requête</text>
  <text x="300" y="65" text-anchor="middle" font-size="14" fill="#5e6c84">De la Connexion au Moteur de Stockage</text>

  <g transform="translate(250, 100)" filter="url(#dropShadow)">
    <rect x="-30" y="0" width="110" height="40" rx="10" fill="#4a90e2"/>
    <text x="25" y="25" text-anchor="middle" fill="white" font-weight="bold" font-size="14">Client SQL</text>
  </g>
  <line x1="300" y1="140" x2="300" y2="170" stroke="#4a90e2" stroke-width="2" marker-end="url(#arrowhead)"/>

  <g transform="translate(200, 170)" filter="url(#dropShadow)">
    <rect width="200" height="60" rx="30" fill="#f0f8ff" stroke="#a7d9ff" stroke-width="2"/>
    <text x="100" y="35" text-anchor="middle" dominant-baseline="middle" font-weight="bold" fill="#172b4d">Pool de Connexions / Threads</text>
    <text x="100" y="50" text-anchor="middle" dominant-baseline="middle" font-size="10" fill="#5e6c84">(Thread Cache)</text>
  </g>
  <line x1="300" y1="230" x2="300" y2="260" stroke="#4a90e2" stroke-width="2" marker-end="url(#arrowhead)"/>

  <g transform="translate(200, 260)" filter="url(#dropShadow)">
    <rect width="200" height="60" rx="30" fill="#fffbe6" stroke="#ffe0b3" stroke-width="2"/>
    <text x="100" y="35" text-anchor="middle" dominant-baseline="middle" font-weight="bold" fill="#172b4d">Cache de Requêtes</text>
    <text x="100" y="50" text-anchor="middle" dominant-baseline="middle" font-size="10" fill="#ff8b00">(Souvent désactivé)</text>
  </g>
  <line x1="300" y1="320" x2="300" y2="350" stroke="#4a90e2" stroke-width="2" marker-end="url(#arrowhead)"/>

  <g transform="translate(200, 350)" filter="url(#dropShadow)">
    <rect width="200" height="60" rx="30" fill="#e6ffed" stroke="#b3ffd9" stroke-width="2"/>
    <text x="100" y="35" text-anchor="middle" dominant-baseline="middle" font-weight="bold" fill="#172b4d">Analyse Syntaxique (Parser)</text>
    <text x="100" y="50" text-anchor="middle" dominant-baseline="middle" font-size="10" fill="#36b37e">(Vérification du SQL)</text>
  </g>
  <line x1="300" y1="410" x2="300" y2="440" stroke="#4a90e2" stroke-width="2" marker-end="url(#arrowhead)"/>

  <g transform="translate(200, 440)" filter="url(#dropShadow)">
    <rect width="200" height="60" rx="30" fill="#ffe6f2" stroke="#ffb3e6" stroke-width="2"/>
    <text x="100" y="35" text-anchor="middle" dominant-baseline="middle" font-weight="bold" fill="#172b4d">Optimiseur</text>
    <text x="100" y="50" text-anchor="middle" dominant-baseline="middle" font-size="10" fill="#6554c0">(Plan d'exécution)</text>
  </g>
  
  <line x1="300" y1="500" x2="300" y2="530" stroke="#4a90e2" stroke-width="2" marker-end="url(#arrowhead)"/>

  <g transform="translate(200, 530)" filter="url(#dropShadow)">
    <rect width="200" height="60" rx="30" fill="#f0f8ff" stroke="#a7d9ff" stroke-width="2"/>
    <text x="100" y="35" text-anchor="middle" dominant-baseline="middle" font-weight="bold" fill="#172b4d">Moteur d'Exécution</text>
    <text x="100" y="50" text-anchor="middle" dominant-baseline="middle" font-size="10" fill="#4a90e2">(Gestion des buffers, Join)</text>
  </g>
  
  <line x1="300" y1="590" x2="300" y2="620" stroke="#4a90e2" stroke-width="2" marker-end="url(#arrowhead)"/>

  <g transform="translate(200, 620)" filter="url(#dropShadow)">
    <rect width="200" height="100" rx="15" fill="#e6f2ff" stroke="#a7d9ff" stroke-width="2"/>
    <text x="100" y="35" text-anchor="middle" dominant-baseline="middle" font-weight="bold" fill="#172b4d">Moteur de Stockage</text>
    <text x="100" y="55" text-anchor="middle" dominant-baseline="middle" font-size="11" fill="#42526e">(InnoDB, MyRocks, Aria, S3)</text>
    <text x="100" y="75" text-anchor="middle" dominant-baseline="middle" font-size="10" fill="#5e6c84">(Gestion des données, Index, I/O)</text>
  </g>

</svg>